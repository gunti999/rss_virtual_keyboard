(()=>{"use strict";var e={890:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(81),i=s.n(n),o=s(645),r=s.n(o)()(i());r.push([e.id,"body {\r\n    background: linear-gradient(to right, #ffe259, #ffa751);\r\n}\r\n\r\n.virtual-keyboard {\r\n    max-width: 1280px;\r\n    margin: auto;\r\n}\r\n\r\ntextarea {\r\n    width: 100%;\r\n    height: 300px;\r\n    resize: none;\r\n}\r\n\r\n.keyboard-area {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n}\r\n\r\n.hide {\r\n    display: none;\r\n}\r\n\r\n.key-row {\r\n    display: flex;\r\n    gap: 10px;\r\n}\r\n\r\n.key {\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: aliceblue;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.press {\r\n background-color: #ffa751;\r\n border-radius: 20%;\r\n \r\n}",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(r[c]=!0)}for(var y=0;y<e.length;y++){var h=[].concat(e[y]);n&&r[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),s&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=s):h[2]=s),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var o={},r=[],a=0;a<e.length;a++){var c=e[a],y=n.base?c[0]+n.base:c[0],h=o[y]||0,d="".concat(y," ").concat(h);o[y]=h+1;var f=s(d),l={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(l);else{var p=i(l,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:p,references:1})}r.push(d)}return r}function i(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=s(o[r]);t[a].references--}for(var c=n(e,i),y=0;y<o.length;y++){var h=s(o[y]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}o=c}}},569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,i&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var o=s.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(379),t=s.n(e),n=s(795),i=s.n(n),o=s(569),r=s.n(o),a=s(565),c=s.n(a),y=s(216),h=s.n(y),d=s(589),f=s.n(d),l=s(890),p={};function u(e,t){const s=document.createElement(e);return s.classList.add(t),s}p.styleTagTransform=f(),p.setAttributes=c(),p.insert=r().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=h(),t()(l.Z,p),l.Z&&l.Z.locals&&l.Z.locals;const k=document.querySelector("body"),K=document.createElement("div");K.classList.add("container"),k.append(K);const v=new class{constructor(e){this.keys=e,this.shiftOn=!1,this.capsOn=!1,this.ctrlOn=!1,this.altOn=!1,this.lang=localStorage.getItem("lang")||"en"}renderKeys(){const e=u("div","virtual-keyboard");this.virtualKeyboard=e;const t=u("h1","project-name");t.textContent="RSS Виртуальная клавиатура",e.append(t);const s=u("textarea","textarea");this.textarea=s,e.append(s);const n=u("div","keyboard-area");return e.append(n),this.keys.forEach((e=>{const t=u("div","key-row");n.append(t),e.forEach((e=>{const s=u("div","key");s.classList.add(e.code);const n=e,i=e.ru||e,o=u("span","span-ru");"ru"===this.lang?o.classList.remove("hide"):o.classList.add("hide"),s.append(o);const r=u("span","shift-off");r.textContent=i.key,o.append(r);const a=u("span","shift-on");a.classList.add("hide"),a.textContent=i.shiftKey,o.append(a);const c=u("span","caps-on");c.classList.add("hide"),i.notCaps?c.textContent=i.key:c.textContent=i.shiftKey,o.append(c);const y=u("span","caps-shift");y.classList.add("hide"),i.notCaps?y.textContent=i.shiftKey:y.textContent=i.key,o.append(y);const h=u("span","span-en");"en"===this.lang?h.classList.remove("hide"):h.classList.add("hide"),s.append(h);const d=u("span","shift-off");d.textContent=n.key,h.append(d);const f=u("span","shift-on");f.classList.add("hide"),f.textContent=n.shiftKey,h.append(f);const l=u("span","caps-on");l.classList.add("hide"),n.notCaps?l.textContent=n.key:l.textContent=n.shiftKey,h.append(l);const p=u("span","caps-shift");p.classList.add("hide"),n.notCaps?p.textContent=n.shiftKey:p.textContent=n.key,h.append(p),t.append(s),s.addEventListener("mousedown",(()=>{this.buttonPressed(e)})),s.addEventListener("mouseup",(()=>{this.buttonUnpressed(e)})),document.addEventListener("keydown",(t=>{t.preventDefault(),t.code===e.code&&this.buttonPressed(e)})),document.addEventListener("keyup",(t=>{t.preventDefault(),t.code===e.code&&this.buttonUnpressed(e)}))}))})),e}buttonPressed(e){let t=this.textarea.selectionStart;const s=this.textarea.selectionEnd,{value:n}=this.textarea;if(this.virtualKeyboard.querySelector(`.${e.code}`).classList.add("press"),"Backspace"===e.key)t>0&&(this.textarea.value=n.slice(0,t-1)+n.slice(s),this.textarea.focus(),t-=1);else if("Delete"===e.key)s<this.textarea.value.length&&(this.textarea.value=n.slice(0,t)+n.slice(s+1),this.textarea.focus());else if("Shift"===e.key)this.shiftOn=!0,this.chekShiftFlag();else if("CapsLock"===e.key)this.capsOn=!this.capsOn,this.chekShiftFlag();else if("ControlLeft"===e.code||"ControlRight"===e.code)this.ctrlOn=!0,this.altOn&&this.switchLang();else if("AltLeft"===e.code||"AltRight"===e.code)this.altOn=!0,this.ctrlOn&&this.switchLang();else{let i=this.findKeyChar(e);"Tab"===e.key&&(i="\t"),"Space"===e.code&&(i=" "),"Enter"===e.code&&(i="\n"),this.textarea.value=n.slice(0,t)+i+n.slice(s),t+=1}this.textarea.selectionStart=t,this.textarea.selectionEnd=t}findKeyChar(e){const t=this.virtualKeyboard.querySelector(`.${e.code}`).querySelector("span:not(.hide) span:not(.hide)");return t?t.textContent:""}buttonUnpressed(e){this.virtualKeyboard.querySelector(`.${e.code}`).classList.remove("press"),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(this.shiftOn=!1,this.chekShiftFlag()),"ControlLeft"!==e.code&&"ControlRight"!==e.code||(this.ctrlOn=!1),"AltLeft"!==e.code&&"AltRight"!==e.code||(this.altOn=!1)}switchLang(){"en"===this.lang?this.lang="ru":this.lang="en",localStorage.setItem("lang",this.lang),this.checkLangFlag()}checkLangFlag(){this.virtualKeyboard.querySelectorAll(".key .span-en, .key .span-ru").forEach((e=>{e.classList.contains(`span-${this.lang}`)?e.classList.remove("hide"):e.classList.add("hide")}))}chekShiftFlag(){const e=this.virtualKeyboard.querySelectorAll(`.key .span-${this.lang} span`);let t;e.forEach((e=>{e.classList.add("hide")})),t=this.shiftOn&&this.capsOn?"caps-shift":this.capsOn?"caps-on":this.shiftOn?"shift-on":"shift-off",e.forEach((e=>{e.classList.contains(t)&&e.classList.remove("hide")}))}}([[{code:"Backquote",key:"`",shiftKey:"~",ru:{key:"ё",shiftKey:"Ё"},notCaps:!0},{code:"Digit1",key:"1",shiftKey:"!",notCaps:!0},{code:"Digit2",key:"2",shiftKey:"@",notCaps:!0},{code:"Digit3",key:"3",shiftKey:"#",notCaps:!0},{code:"Digit4",key:"4",shiftKey:"$",notCaps:!0},{code:"Digit5",key:"5",shiftKey:"%",notCaps:!0},{code:"Digit6",key:"6",shiftKey:"^",notCaps:!0},{code:"Digit7",key:"7",shiftKey:"&",notCaps:!0},{code:"Digit8",key:"8",shiftKey:"*",notCaps:!0},{code:"Digit9",key:"9",shiftKey:"(",notCaps:!0},{code:"Digit0",key:"0",shiftKey:")",notCaps:!0},{code:"Minus",key:"-",shiftKey:"_",notCaps:!0},{code:"Equal",key:"=",shiftKey:"+",notCaps:!0},{code:"Backspace",key:"Backspace",shiftKey:"Backspace"}],[{code:"Tab",key:"Tab",shiftKey:"Tab"},{code:"KeyQ",key:"q",shiftKey:"Q",ru:{key:"й",shiftKey:"Й"}},{code:"KeyW",key:"w",shiftKey:"W",ru:{key:"ц",shiftKey:"Ц"}},{code:"KeyE",key:"e",shiftKey:"E",ru:{key:"у",shiftKey:"У"}},{code:"KeyR",key:"r",shiftKey:"R",ru:{key:"к",shiftKey:"К"}},{code:"KeyT",key:"t",shiftKey:"T",ru:{key:"е",shiftKey:"Е"}},{code:"KeyY",key:"y",shiftKey:"Y",ru:{key:"н",shiftKey:"Н"}},{code:"KeyU",key:"u",shiftKey:"U",ru:{key:"г",shiftKey:"Г"}},{code:"KeyI",key:"i",shiftKey:"I",ru:{key:"ш",shiftKey:"Ш"}},{code:"KeyO",key:"o",shiftKey:"O",ru:{key:"щ",shiftKey:"Щ"}},{code:"KeyP",key:"p",shiftKey:"P",ru:{key:"з",shiftKey:"З"}},{code:"BracketLeft",key:"[",shiftKey:"{",ru:{key:"х",shiftKey:"Х"},notCaps:!0},{code:"BracketRight",key:"]",shiftKey:"}",ru:{key:"ъ",shiftKey:"Ъ"},notCaps:!0},{code:"Backslash",key:"\\",shiftKey:"|",notCaps:!0},{code:"Delete",key:"Delete",shiftKey:"Delete"}],[{code:"CapsLock",key:"CapsLock",shiftKey:"CapsLock"},{code:"KeyA",key:"a",shiftKey:"A",ru:{key:"ф",shiftKey:"Ф"}},{code:"KeyS",key:"s",shiftKey:"S",ru:{key:"ы",shiftKey:"Ы"}},{code:"KeyD",key:"d",shiftKey:"D",ru:{key:"в",shiftKey:"В"}},{code:"KeyF",key:"f",shiftKey:"F",ru:{key:"а",shiftKey:"А"}},{code:"KeyG",key:"g",shiftKey:"G",ru:{key:"п",shiftKey:"П"}},{code:"KeyH",key:"h",shiftKey:"H",ru:{key:"р",shiftKey:"Р"}},{code:"KeyJ",key:"j",shiftKey:"J",ru:{key:"о",shiftKey:"О"}},{code:"KeyK",key:"k",shiftKey:"K",ru:{key:"л",shiftKey:"Л"}},{code:"KeyL",key:"l",shiftKey:"L",ru:{key:"д",shiftKey:"Д"}},{code:"Semicolon",key:";",shiftKey:":",ru:{key:"ж",shiftKey:"Ж"},notCaps:!0},{code:"Quote",key:"'",shiftKey:'"',ru:{key:"э",shiftKey:"Э"},notCaps:!0},{code:"Enter",key:"Enter",shiftKey:"Enter"}],[{code:"ShiftLeft",key:"Shift",shiftKey:"Shift"},{code:"KeyZ",key:"z",shiftKey:"Z",ru:{key:"я",shiftKey:"Я"}},{code:"KeyX",key:"x",shiftKey:"X",ru:{key:"ч",shiftKey:"Ч"}},{code:"KeyC",key:"c",shiftKey:"C",ru:{key:"с",shiftKey:"С"}},{code:"KeyV",key:"v",shiftKey:"V",ru:{key:"м",shiftKey:"М"}},{code:"KeyB",key:"b",shiftKey:"B",ru:{key:"и",shiftKey:"И"}},{code:"KeyN",key:"n",shiftKey:"N",ru:{key:"т",shiftKey:"Т"}},{code:"KeyM",key:"m",shiftKey:"M",ru:{key:"ь",shiftKey:"Ь"}},{code:"KeyK",key:",",shiftKey:"<",ru:{key:"б",shiftKey:"Б"},notCaps:!0},{code:"Period",key:".",shiftKey:">",ru:{key:"ю",shiftKey:"Ю"},notCaps:!0},{code:"Slash",key:"/",shiftKey:"?",notCaps:!0},{code:"ArrowUp",key:"↑",shiftKey:"↑"},{code:"ShiftRight",key:"Shift",shiftKey:"Shift"}],[{code:"ControlLeft",key:"Control",shiftKey:"Control"},{code:"Home",key:"Home",shiftKey:"Home"},{code:"AltLeft",key:"Alt",shiftKey:"Alt"},{code:"Space",key:"",shiftKey:""},{code:"AltRight",key:"Alt",shiftKey:"Alt"},{code:"ArrowLeft",key:"←",shiftKey:"←"},{code:"ArrowDown",key:"↓",shiftKey:"↓"},{code:"ArrowRight",key:"→",shiftKey:"→"},{code:"ControlRight",key:"Control",shiftKey:"Control"}]]);K.append(v.renderKeys())})()})();